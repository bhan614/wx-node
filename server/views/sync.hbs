<div>
    <dl>
        <dt>appid</dt>
        <dd>{{data.appid}}</dd>
        <dt>signature</dt>
        <dd>{{data.signature}}</dd>
        <dt>openid</dt>
        <dd>{{data.openid}}</dd>
        <dt>页面地址</dt>
        <dd id="url"></dd>
    </dl>
</div>
<script src="https://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script type="text/javascript">
    (function () {
        document.getElementById('url').innerHTML = window.location.href;
        var jsApiList = [
            'checkJsApi',
            'onMenuShareTimeline',
            'onMenuShareAppMessage',
            'onMenuShareQQ',
            'onMenuShareWeibo',
            'onMenuShareQZone',
        ];
        var config = {
            debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            appId: "{{{data.appid}}}", // 必填，公众号的唯一标识
            timestamp: "{{{data.timestamp}}}", // 必填，生成签名的时间戳
            nonceStr: "{{{data.nonceStr}}}", // 必填，生成签名的随机串
            signature: "{{{data.signature}}}",// 必填，签名，见附录1
        }
        config.jsApiList = jsApiList;
        wx.config(config);

        wx.ready(function () {
            var shareData = {
                title: '同步获取测试demo',
                desc: '同步获取签名，微信JS-SDK,帮助第三方为用户提供更优质的移动web服务',
                link: window.location.href,
                imgUrl: 'https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRt8Qia4lv7k3M9J1SKqKCImxJCt7j9rHYicKDI45jRPBxdzdyREWnk0ia0N5TMnMfth7SdxtzMvVgXg/0'
            };
            wx.onMenuShareAppMessage(shareData);
            wx.onMenuShareTimeline(shareData);
        })
    })();
</script>

